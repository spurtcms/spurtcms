{{template "header" .}}
{{template "head" .}}
{{$Translate := .translate}}

<section class="  max-md:ms-0  max-md:max-w-full  w-full max-w-[calc(100%-232px)] ml-auto pt-[48px] min-h-screen">

    <header
        class="header-rht max-md:ms-0  max-md:w-full  flex justify-end gap-[6px] h-[48px] border-b border-[#D9D9D9] p-[8px_16px] items-center fixed top-0 bg-white z-20 w-[calc(100%-232px)] right-0">
        <div class="mr-auto flex items-center gap-[6px]">
            <a href="javascript:void(0);"
                class=" max-md:grid hidden h-[32px] w-[32px] min-w-[32px] place-items-center bg-[#F5F5F5]">
                <img src="/public/img/menu-button.svg" alt="toggle button" class="w-4 h-4 toggle-button">
            </a>
            <h2 class="text-[16px] font-medium leading-[20px] text-[#252525] whitespace-nowrap">{{$Translate.Email}}
            </h2>

        </div>


    </header>

    <div class="grid grid-cols-[236px_1fr] max-sm:h-fit h-full max-sm:grid-cols-1 max-xl:grid-cols-[180px_1fr]">
        <!--accordion-->

        {{template "settingsmenu" .}}
        <!--accordion-->

        <!--table-->
        <div class="block overflow-hidden @container pb-[120px] ">
            <div class="block overflow-auto">
                <ul class="flex items-center border-b border-[#EDEDED] px-[16px]">
                    <li><a href="/settings/emails/"
                            class="text-[14px] font-normal leading-[17.5px] tracking-[0.01em] py-[11px] px-[12px] grid place-items-center relative text-[#262626] hover:text-[#262626] after:inline-block after:w-full after:h-[2px] after:bg-[#262626] after:rounded-t-[18px] after:absolute after:bottom-0 after:left-0 ">{{$Translate.Setting.Emailtemplates}}</a>
                    </li>
                    <li><a href="/settings/emails/emailconfig/"
                            class="text-[14px] font-normal leading-[17.5px] tracking-[0.01em] py-[11px] px-[12px] grid place-items-center relative text-[#717171] hover:text-[#262626]">{{$Translate.Setting.Emailconfig}}</a>
                    </li>

                </ul>
            </div>

            <div class="overflow-x-auto scrollbar-thin  ">
                <table class=" caption-top w-full min-w-[768px]">
                    <caption class="py-[8px] px-[16px] border-b border-[#EDEDED]">
                        <p class="text-[12px] font-normal leading-[16px] text-[#A1A1A1] w-fit sticky left-[16px]">
                            <span class="font-semibold text-[#262626]  "> {{.Count}}
                            </span>
                            {{if gt .Count 1}}
                            {{$Translate.Emailtemplate.Emailcounts}}
                            {{else}}
                            {{$Translate.Emailtemplate.Emailcount}}
                            {{end}}
                        </p>
                    </caption>
                    <thead>
                        <tr>

                            <th class="px-[16px] py-[12px] border-b border-[#EDEDED]">
                                <p class="text-[#222222] text-sm font-normal mb-0">
                                    {{$Translate.Emailtemplate.Templatename}}
                                </p>
                            </th>

                            <th
                                class="text-[#222222] font-normal text-sm px-[16px] py-[12px] border-b border-[#EDEDED]">
                                {{$Translate.Lastupdatedon}}
                            </th>
                            <th
                                class="text-[#222222] font-normal text-sm px-[16px] py-[12px] border-b border-[#EDEDED] text-center">
                                {{$Translate.Channell.Status}}
                            </th>


                            <th
                                class="text-[#222222] font-normal text-sm px-[16px] py-[12px] border-b border-[#EDEDED] text-center">
                                {{$Translate.Action}}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {{range .Template}}
                        <tr>
                            <td
                                class="px-[16px] py-[12px] border-b border-[#EDEDED] align-middle text-[#262626] text-xs font-normal">
                                {{.TemplateName}}
                            </td>

                            <td
                                class="px-[16px] py-[12px] border-b border-[#EDEDED] text-xs text-[#717171] align-middle">
                                {{.DateString}}
                            </td>

                            <td class="px-[16px] py-[12px] border-b border-[#EDEDED] text-center">
                                <label for="toggle{{.Id}}"
                                    class="flex items-center justify-center cursor-pointer select-none text-dark dark:text-white {{if eq .TemplateName `OTP Generation`}} pointer-events-none opacity-25 {{end}}">
                                    <div class="relative">
                                        <input type="checkbox" id="toggle{{.Id}}" class="peer sr-only emailStatusBtn"
                                            {{if eq .IsActive 1}} checked {{end}} value="" data-id="{{.Id}}" />
                                        <div class="block h-4 rounded-full dark:bg-dark-2 bg-gray-3 w-[30px]">
                                        </div>
                                        <div
                                            class="absolute w-3 h-3 transition bg-white rounded-full dot dark:bg-dark-4 left-0.5 top-0.5  peer-checked:translate-x-[116%] peer-checked:bg-primary">
                                        </div>
                                    </div>
                                </label>
                            </td>




                            <td
                                class="px-[16px] py-[12px] border-b border-[#EDEDED] text-xs text-[#717171] align-middle text-center">
                                <div class="btn-group position-static">
                                    <a href="javascript:void(0);" 
                                        class="border-0 grid place-items-center items-center gap-[5px] w-[24px] h-[24px] rounded-[4px] group hover:bg-[#F5F5F5] focus:bg-[#F5F5F5] show"
                                        data-bs-toggle="dropdown" aria-expanded="true">
                                        <img src="/public/img/action-btn-active.svg" alt="dropdown"
                                            class="hidden group-hover:block">
                                        <img src="/public/img/action-btn.svg" alt="dropdown"
                                            class="block group-hover:hidden">
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-start border-0 focus:bg-transparent drop-shadow-4 min-w-180 py-[12px]"
                                        aria-labelledby="triggerId">

                                        <a class="dropdown-item h-[40px] w-full grid grid-cols-[16px_1fr] gap-[12px] rounded-[3px] text-[12px] font-normal text-[#262626] items-center p-[12px_16px] leading-none hover:bg-[#F5F5F5] emailEditBtn"
                                            href="javascript:void(0);" data-bs-toggle="modal"
                                            data-bs-target="#emailtemplateModal" data-id="{{.Id}}"><img
                                                src="/public/img/edit.svg" />
                                            {{$Translate.Edit}}</a>

                                    </div>
                                </div>

                            </td>

                        </tr>
                        {{end}}

                    </tbody>
                </table>
            </div>

        </div>

        <!--pagination-->

        <div
            class=" max-sm:flex-col max-sm:gap-[1rem] max-md:w-full flex justify-center items-center p-[16px] fixed bottom-0 w-[calc(100%-232px)] right-0 bg-[#ffffff]">
            <ul class="!ml-auto    max-sm:mx-auto  justify-center items-center gap-[8px] flex flex-wrap">
                {{if gt .Count .Limit}}

                <li> <a href="?page={{.Pagination.PreviousPage}}{{if .Filter.Keyword}}&keyword={{.Filter.Keyword}}{{end}}"
                        class="flex justify-center max-sm:w-[33px] max-sm:h-[36px] items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] text-[14px] font-normal hover:text-[#222222] hover:bg-[#F5F5F5] text-[#222222] w-[77px] h-[36px] gap-[4px] {{if eq .CurrentPage 1}}opacity-50  pointer-events-none {{end}}">
                        <img src="/public/img/pg-prev.svg" alt="previous">
                        <span class=" max-sm:hidden"> {{$Translate.Back}}</span>
                    </a>
                </li>
                {{if gt .CurrentPage 3}}
                {{$keyword := .filter.Keyword}}
                <li> <a href="?page=1{{if $keyword}}&keyword={{$keyword}}{{end}}"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px] font-normal hover:bg-[#F5F5F5] text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        1 </a> </li>
                {{end}}
                {{if eq .CurrentPage 5}}
                <li> <a href="?page=2{{if .filter.Keyword}}&keyword={{.filter.Keyword}}{{end}}"
                        class=" flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px] hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px] ">
                        2 </a> </li>
                {{end}}
                {{if gt .CurrentPage 5}}
                <li> <a href="javascript:void(0)"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px]  hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        ...</a> </li>
                {{end}}
                {{if gt .CurrentPage 2}}
                <li> <a href="?page={{.Pagination.TwoBelow}}{{if .filter.Keyword}}&keyword={{.filter.Keyword}}{{end}}"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF]  hover:text-[#222222] text-[14px] hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        {{.Pagination.TwoBelow}} </a> </li>
                {{end}}
                {{if gt .CurrentPage 1}}
                <li> <a href="?page={{.Pagination.PreviousPage}}{{if .filter.Keyword}}&keyword={{.filter.Keyword}}{{end}}"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px] hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        {{.Pagination.PreviousPage}} </a> </li>
                {{end}}

                <li> <a href="" class=" {{if  .CurrentPage }} flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC]
                                    text-[14px] w-[33px] h-[36px] gap-[4px] border-none text-[#FFFFFF] hover:text-[#FFFFFF]
                                    bg-[#10A37F] hover:bg-[#148569] font-bold {{end}}">
                        {{.CurrentPage}} </a> </li>
                {{if lt .CurrentPage .Pagination.TotalPages}}
                <li> <a href="?page={{.Pagination.NextPage}}{{if .filter.Keyword}}&keyword={{.filter.Keyword}}{{end}}"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px] hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        {{.Pagination.NextPage}} </a> </li>
                {{end}}
                {{if (le .Pagination.TwoAfter .Pagination.TotalPages)}}
                <li> <a href="?page={{.Pagination.TwoAfter}}{{if .filter.Keyword}}&keyword={{.filter.Keyword}}{{end}}"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px] hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        {{.Pagination.TwoAfter}} </a> </li>
                {{end}}
                {{if (lt .Pagination.ThreeAfter .Pagination.TotalPages)}}
                <li> <a href="javascript:void(0)"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px]  hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        ...</a> </li>
                {{end}}
                {{if (lt .Pagination.TwoAfter .Pagination.TotalPages)}}
                <li> <a href="?page={{.Pagination.TotalPages}}{{if .filter.Keyword}}&keyword={{.filter.Keyword}}{{end}}"
                        class="flex justify-center items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px]  hover:bg-[#F5F5F5] font-normal text-[#222222] w-[33px] h-[36px] gap-[4px]">
                        {{.Pagination.TotalPages}}</a> </li> {{end}}
                <li> <a href="?page={{.Pagination.NextPage}}{{if .filter.Keyword}}&keyword={{.filter.Keyword}}{{end}}"
                        class="flex justify-center max-sm:w-[33px] max-sm:h-[36px] items-center rounded-[4px] border-[.0625rem] border-[#ECECEC] bg-[#FFF] hover:text-[#222222] text-[14px]  hover:bg-[#F5F5F5] font-normal text-[#222222] w-[77px] h-[36px] gap-[4px] {{if eq .CurrentPage .PageCount}}opacity-50  pointer-events-none {{end}}">
                        <span class=" max-sm:hidden"> {{$Translate.Next}} </span> <img src="/public/img\pg-nxt.svg"
                            alt="next">
                    </a>
                </li>
                {{end}}
            </ul>
            <p class="!ml-auto max-sm:mx-auto text-[14px] font-normal text-[#222222] leading-[14px]">
                <!-- {{.paginationstartcount}} – {{.paginationendcount}} of {{.chentrycount}} -->
                {{.Paginationstartcount}} – {{.Paginationendcount}} {{$Translate.Of}} {{.Count}}
            </p>
        </div>
    </div>


</section>

{{template "emailmodal" .}}
{{template "footer" .}}
<script>
    // Initialize tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })
</script>
<script src="/public/js/settings/emailtemplate/emailtemplate.js"></script>
{{template "footerclose" .}}